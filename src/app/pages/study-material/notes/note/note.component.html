<!--
  ~ Copyright (c) Akveo 2019. All Rights Reserved.
  ~ Licensed under the Single Application / Multi Application License.
  ~ See LICENSE_SINGLE_APP / LICENSE_MULTI_APP in the 'docs' folder for license information on type of purchased license.
  -->
<div>
  <nb-card>
    <nb-card-header>
      <button type="button" size="small" (click)="back()" nbButton>Back</button>&nbsp;
      <span> {{ mode }} Note <span *ngIf="noteForm.value.uniqueIdentifier">({{noteForm.value.uniqueIdentifier}})</span></span>
    </nb-card-header>
    <nb-card-body>
      <div [formGroup]="noteForm" class="container">
        <div class="row">
          <div class="col-12">
            <div class="form-group">
              <label for="title">Title</label>
              <input nbInput id="title" fullWidth formControlName="title" class="form-control" placeholder="Title" />
              <ngx-validation-message label="Title" [showRequired]="title?.errors?.required && title.touched">
              </ngx-validation-message>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label for="category">Category</label>
              <select
                nbSelect
                id="category"
                fullWidth
                formControlName="category"
                class="form-control"
                placeholder="Select Category"
                (change)="categoryChange()"
              >
                <option value="">Select Category</option>
                <option [value]="item.id" *ngFor="let item of categories">{{ item.name }}</option>
              </select>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label for="subCategory">Sub Category</label>
              <select
                nbSelect
                id="subCategory"
                fullWidth
                formControlName="subCategory"
                class="form-control"
                placeholder="Select Sub Category"
              >
                <option value="">Select Sub Category</option>
                <option [value]="item.id" *ngFor="let item of subCategories">{{ item.name }}</option>
              </select>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label for="optionsCount">Upload File (PDF)</label>
              <input
                nbInput
                type="file"
                id="optionsCount"
                fullWidth
                class="form-control file-input"
                (change)="onFileSelected($event, 'file')"
                accept="application/pdf"
              />
            </div>
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label for="optionsCount">Upload Thumbnail (image)</label>
              <input
                nbInput
                type="file"
                id="optionsCount"
                fullWidth
                class="form-control file-input"
                (change)="onFileSelected($event, 'thumbnail')"
                accept="image/png, image/jpeg"
              />
            </div>
          </div>
          <!-- <div class="col-12">
                <div class="form-group">
                  <label for="instructions">Instructions</label>
                  <ngx-text-editor
                    [(editorValue)]="instructions"
                    [id]="instructions"
                  ></ngx-text-editor>
                </div>
              </div> -->
        </div>
      </div>
    </nb-card-body>
    <nb-card-footer>
      <button nbButton status="primary" [disabled]="!noteForm.valid" (click)="submit()" hero>Submit</button>
    </nb-card-footer>
  </nb-card>

  <!-- Scroll to top button on the page -->
  <ngx-scroll-to-top></ngx-scroll-to-top>
</div>
